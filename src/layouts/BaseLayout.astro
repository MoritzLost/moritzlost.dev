---
import Html from './Html.astro';
import type { Props as SeoProps } from './Html.astro';

interface Props extends SeoProps {}

const pages = [
    { href: '/', label: 'Home' },
    { href: '/articles/', label: 'Articles' },
    { href: '/projects/', label: 'Projects' },
];

const legal = [
    { href: '/legal/', label: 'Legal notice' },
    { href: '/privacy-policy/', label: 'Privacy policy' },
];
---

<Html {...Astro.props}>
    <nav class="navigation" aria-label="Primary">
        <a href="#main" class="visually-hidden-focusable skip-to-main-content">Skip to main content</a>
        <ul class="menu">
            {
                pages.map(link => (
                    <li class="menu__item">
                        <a
                            class="menu__link"
                            href={link.href}
                            aria-current={link.href === Astro.url.pathname ? 'page' : undefined}
                        >
                            {link.label}
                        </a>
                    </li>
                ))
            }
        </ul>
    </nav>

    <main id="main">
        <slot />
    </main>

    <footer id="footer" aria-labelledby="contact">
        <h2 class="visually-hidden" id="contact">Contact links</h2>

        <div class="contact">
            <ul class="footer-links" aria-label="Find me on the internet">
                <li><a href="https://github.com/MoritzLost">GitHub</a></li>
                <span class="separator" aria-hidden="true">·</span>
                <li><a href="https://www.linkedin.com/in/moritzlost/">LinkedIn</a></li>
                <span class="separator" aria-hidden="true">·</span>
                <li><a href="https://stackexchange.com/users/3818740/moritzlost">Stack Exchange</a></li>
            </ul>

            <nav aria-label="Legal">
                <ul class="footer-links">
                    {
                        legal.map((link, index) => (
                            <>
                                <li>
                                    <a
                                        href={link.href}
                                        aria-current={link.href === Astro.url.pathname ? 'page' : undefined}
                                    >
                                        {link.label}
                                    </a>
                                </li>
                                {index < legal.length - 1 && (
                                    <span class="separator" aria-hidden="true">
                                        ·
                                    </span>
                                )}
                            </>
                        ))
                    }
                </ul>
            </nav>
        </div>
    </footer>
</Html>

<style>
    .navigation {
        display: grid;
        justify-items: center;
        padding-block-start: 0.25rem;
        margin-block-end: clamp(1.5rem, 6vw, 6rem);
    }

    footer {
        margin-block-start: clamp(4rem, 6vw, 6rem);
        margin-block-end: 3rem;
        padding-inline: var(--container-padding-x);
    }

    .skip-to-main-content {
        padding: 0.75rem 1rem;
        margin-block-start: 0.5rem;
    }

    .menu {
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
        font-size: var(--font-size-0);
        font-family: var(--headings-font-family);
        font-weight: 500;
    }

    .menu__link {
        display: block;
        padding: 0.75rem 1rem;
    }

    .menu__link[aria-current='page'] {
        text-decoration-thickness: 0.2em;
    }

    .contact {
        display: flex;
        flex-flow: row wrap;
        column-gap: 64px;
        row-gap: 2rem;
        justify-content: center;
    }

    .footer-links {
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
        column-gap: 1rem;
        row-gap: 1rem;
        font-size: var(--font-size--1);
    }

    .footer-links a[aria-current='page'] {
        text-decoration-thickness: 0.2em;
    }

    @media (max-width: 30rem) {
        .contact {
            flex-direction: column;
        }

        .separator {
            display: none;
        }

        .footer-links {
            flex-direction: column;
        }
    }
</style>
