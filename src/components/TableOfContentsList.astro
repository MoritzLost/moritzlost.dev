---
import type { HierarchyItem } from '@utils/headings';

interface Props {
    hierarchy: HierarchyItem[];
}

const { hierarchy } = Astro.props;
---

{
    hierarchy.length > 0 && (
        <ul class="toc-list">
            {hierarchy.map(item => (
                <li class="toc-list__item">
                    <a href={`#${item.heading.slug}`}>{item.heading.text}</a>
                    <Astro.self hierarchy={item.children} />
                </li>
            ))}
        </ul>
    )
}

<style lang="postcss">
    .toc-list {
        font-size: var(--font-size-sm);
        --stack-gap: 0.75rem;
        .toc-list {
            margin-top: var(--stack-gap);
            padding-left: 1.5rem;
        }
    }

    .toc-list__item {
        --link-text-decoration: none;
        & + & {
            padding-top: var(--stack-gap);
        }
    }
</style>
